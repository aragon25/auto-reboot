#####################################
#    !!!INSTALL RESTRICTIONS!!!     #
#####################################
#only for raspberry pi (rpi5|rpi4|rpi3|all) can combined!
CFG_RES_RAS_PI="all"
#only for Raspbian OS (bookworm|bullseye|all) can combined!
CFG_RES_RAS_OS="bookworm|bullseye"
#only for cpu architecture (i386|armhf|amd64|arm64) can combined!
CFG_RES_CPU_ARCH=""
#only for os architecture (32|64) can NOT combined!
CFG_RES_OS_ARCH=""

#####################################
#   !!!DEBIAN PACKAGE VALUES!!!     #
#####################################
# (mandatory/optional) build file instructions. copies a source_file from src_dir to target_file. {source_file_path}={target_path}/{target_file_name}
# if empty then CFG_DIRS_CONF has to be set!
CFG_FILES_CONF="
../src/auto-reboot.service=lib/systemd/system/auto-reboot.service
../src/auto-reboot.sh=usr/bin/auto-reboot"
# (mandatory/optional) build dir instructions. copies a source_dir from src_dir to target_dir. {source_dir_path}={target_path}/{target_dir_name}
# if empty then CFG_FILES_CONF has to be set!
CFG_DIRS_CONF=""
# (mandatory) The name of the binary package. Package names (both source and binary, see Package)
# must consist only of lower case letters (a-z), digits (0-9), plus (+) and minus (-) signs, and periods (.).
# They must be at least two characters long and must start with an alphanumeric character.
CFG_NAME="auto-reboot"
# (mandatory) The version number of a package. The format is: [epoch:]upstream_version[-debian_revision].
CFG_VERSION="1.4-2"
# (mandatory) This field represents how important it is that the user have the package installed.
# (one of 'required', 'important', 'standard' or 'optional')
CFG_PRIORITY="optional"
# (mandatory) Specifying a specific list of architectures
# "all" indicates an architecture-independent package.
# "any" matches all Debian machine architectures and is the most frequently used.
# or only for cpu architecture ( amd64|arm64|i386|armhf ; ONLY ONE IS ALLOWED!)
CFG_ARCH="all"
# (optional) Packages can declare in their control file that they have certain relationships to other packages
# for example, that they may not be installed at the same time as certain other packages, and/or that they depend
# on the presence of others. These fields are used to declare a dependency relationship by one package on another.
# i.e. "debconf (>= 0.2.26)" or "debconf (>= 0.2.26), file" or "debconf, file"
CFG_DEPENDS="systemd" 
CFG_CONFLICTS=""
# (optional) Package installed size as integer in kilobytes (no decimals). Leave empty to let script calculate.
CFG_SIZE=""
# (optional) Additional size to add to Package installed size. Have to be integer in kilobytes (no decimals).
CFG_ADD_SIZE=""
# (mandatory) The package maintainer's name and email address. The name must come first, then the email address inside 
# angle brackets <> (in RFC822 format).
CFG_MAINTAINER="aragon25 <aragon25.01@web.de>"
# (mandatory) In a source or binary control file, the Description field contains a description of the binary package,
# consisting of two parts, the synopsis or the short description, and the long description. Do not use tab characters.
# Their effect is not predictable.
CFG_DESCRIPTION="auto-reboot-service.
  Reboot system after given uptime in ofs-boot or normal-boot.
  Also reboots system after reaching given low diskfree limit.
  Can reboot system once after hardreset (powerlost)"
# (optional) The URL of the web site for this package, preferably (when applicable) the site from which the original source
# can be obtained and any additional upstream documentation or information may be found. The content of this field is a simple URL
# without any surrounding characters such as <>.
CFG_HOMEPAGE="https://github.com/aragon25/auto-reboot"
# (optional) Changelog text string (if CFG_CHANGELOG_FILE_PATH is a valid file this will be ignored)
# format: Debian-Changelog-Format (https://www.debian.org/doc/debian-policy/ch-source.html#debian-changelog-debian-changelog)
CFG_CHANGELOG_STRING=''
# (optional) Changelog filepath (will be prefered if is a valid file)
# format: Keep a Changelog (https://keepachangelog.com/en/1.1.0/)
# will be converted to Debian-Changelog-Format automatically
CFG_CHANGELOG_FILE_PATH='../CHANGELOG.md'
# (optional) Copyright text string (if CFG_COPYRIGHT_FILE_PATH is a valid file this will be ignored)
# format: Debian-Copyright-Format (https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/)
CFG_COPYRIGHT_STRING==''
# (optional) Copyright filepath (will be prefered if is a valid file)
# format: License file only 
# will be converted to Debian-Copyright-Format automatically
CFG_COPYRIGHT_FILE_PATH='../LICENSE'
# (optional) Scriptfiles (paths or text strings)
# Installation calls: preinst install -> postinst configure
# Deinstallation calls: prerm remove -> postrm remove
# Upgrade/Downgrade/Reinstall calls: prerm upgrade -> preinst upgrade -> postrm upgrade -> postinst configure
CFG_PREINST='#!/bin/bash
if [ "$(which auto-reboot)" != "" ] && [ "$1" == "install" ]; then
  echo "The command \"auto-reboot\" is already present. Can not install this."
  echo "File: \"$(which auto-reboot)\""
  exit 1
fi
exit 0'
CFG_POSTINST='#!/bin/bash
if [ -f "/lib/systemd/system/auto-reboot.service" ]; then
  echo "Start and enable service ..."
  systemctl daemon-reload >/dev/null 2>&1
  systemctl enable auto-reboot.service >/dev/null 2>&1
  systemctl start auto-reboot.service >/dev/null 2>&1
fi
exit 0'
CFG_PRERM='#!/bin/bash
if [ -f "/lib/systemd/system/auto-reboot.service" ]; then
  echo "Stop and disable service ..."
  systemctl stop auto-reboot.service >/dev/null 2>&1
  systemctl disable auto-reboot.service >/dev/null 2>&1
  systemctl daemon-reload >/dev/null 2>&1
fi
if [ -f "/usr/bin/auto-reboot" ]; then
  echo "Prepare to remove ..."
  /usr/bin/auto-reboot --shutdown >/dev/null 2>&1
  /usr/bin/auto-reboot --boot >/dev/null 2>&1
fi
exit 0'
CFG_POSTRM='#!/bin/bash
if [ -f "/etc/auto-reboot.config" ] && [ "$1" == "remove" ]; then
  echo "Remove config file ..."
  rm -f "/etc/auto-reboot.config" >/dev/null 2>&1
fi
exit 0'

#####################################
#         !!!OTHER VALUES!!!        #
#####################################
# (optional) a directorypath to add the "deb_build" folder
CFG_BUILD_DIR="../"
# (optional) a directorypath to add the final debian-package file
CFG_RELEASE_DIR="../deb_packages"
# (optional) a filename for the debian-package file excluding file extension
CFG_DEB_BASE_FILE_NAME="${CFG_NAME}_${CFG_VERSION}_${CFG_ARCH}"
